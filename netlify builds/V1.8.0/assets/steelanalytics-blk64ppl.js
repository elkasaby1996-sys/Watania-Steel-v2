var Mt=Object.defineProperty,Vt=Object.defineProperties;var Wt=Object.getOwnPropertyDescriptors;var qe=Object.getOwnPropertySymbols;var zt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable;var Ue=(t,e,n)=>e in t?Mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ge=(t,e)=>{for(var n in e||(e={}))zt.call(e,n)&&Ue(t,n,e[n]);if(qe)for(var n of qe(e))qt.call(e,n)&&Ue(t,n,e[n]);return t},He=(t,e)=>Vt(t,Wt(e));import{J as M,k as h,K as ht,r as H,f as Ut,u as Gt,j as s,B as Ze,C as ve,n as ye,p as ge,t as be,m as xe,L as Ee,I as Ye}from"./index-DrtJc57V.js";import{S as Ht,a as Zt,b as Yt,c as Xt,d as de}from"./select-Ckbz379H.js";import{T as Jt,a as Qt,b as Ne,c as Re}from"./tabs-CN9L1hSb.js";import{A as er}from"./arrow-left-DRO6W2Q_.js";import{C as tr}from"./calendar-CePNJWhY.js";import{T as rr}from"./trending-up-MJhvXpWp.js";import{C as nr}from"./calculator-ChZ83Mfv.js";import{f as S,r as vt,a as ar,b as yt,c as ir,i as U,T as We,p as V,L as $,g as gt,d as ze,e as bt,D as xt,u as At,C as jt,h as W,j as G,S as or,A as kt,k as sr,l as X,m as Pt,n as te,o as Ot,G as St,q as me,s as wt,t as _t,v as lr,w as pe,x as Xe,E as cr,y as ur,z as Je,B as Tt,X as Dt,Y as Et,F as fr,H as dr,R as Qe,I as pr,J as et}from"./generateCategoricalChart-Celw9QEy.js";import"./index-C8j-8XsM.js";var mr=["points","className","baseLinePoints","connectNulls"];function re(){return re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},re.apply(this,arguments)}function hr(t,e){if(t==null)return{};var n=vr(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vr(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function tt(t){return xr(t)||br(t)||gr(t)||yr()}function yr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(t,e){if(t){if(typeof t=="string")return Ce(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(t,e)}}function br(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xr(t){if(Array.isArray(t))return Ce(t)}function Ce(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rt=function(e){return e&&e.x===+e.x&&e.y===+e.y},Ar=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){rt(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),rt(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},le=function(e,n){var r=Ar(e);n&&(r=[r.reduce(function(i,o){return[].concat(tt(i),tt(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,c,f){return"".concat(o).concat(f===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},jr=function(e,n,r){var a=le(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(le(n.reverse(),r).slice(1))},kr=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,o=hr(e,mr);if(!n||!n.length)return null;var c=M("recharts-polygon",r);if(a&&a.length){var f=o.stroke&&o.stroke!=="none",u=jr(n,a,i);return h.createElement("g",{className:c},h.createElement("path",re({},S(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),f?h.createElement("path",re({},S(o,!0),{fill:"none",d:le(n,i)})):null,f?h.createElement("path",re({},S(o,!0),{fill:"none",d:le(a,i)})):null)}var m=le(n,i);return h.createElement("path",re({},S(o,!0),{fill:m.slice(-1)==="Z"?o.fill:"none",className:c,d:m}))},$e,nt;function Pr(){if(nt)return $e;nt=1;var t=vt(),e=ar(),n=yt();function r(a,i){return a&&a.length?t(a,n(i,2),e):void 0}return $e=r,$e}var Or=Pr();const Sr=ht(Or);var Ie,at;function wr(){if(at)return Ie;at=1;var t=vt(),e=yt(),n=ir();function r(a,i){return a&&a.length?t(a,e(i,2),n):void 0}return Ie=r,Ie}var _r=wr();const Tr=ht(_r);var Dr=["cx","cy","angle","ticks","axisLine"],Er=["ticks","tick","angle","tickFormatter","stroke"];function ae(t){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(t)}function ce(){return ce=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ce.apply(this,arguments)}function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?it(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ot(t,e){if(t==null)return{};var n=Nr(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nr(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rt(r.key),r)}}function $r(t,e,n){return e&&st(t.prototype,e),n&&st(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ir(t,e,n){return e=Ae(e),Lr(t,Nt()?Reflect.construct(e,n||[],Ae(t).constructor):e.apply(t,n))}function Lr(t,e){if(e&&(ae(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cr(t)}function Cr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Nt=function(){return!!t})()}function Ae(t){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ae(t)}function Br(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Be(t,e)}function Be(t,e){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Be(t,e)}function Oe(t,e,n){return e=Rt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rt(t){var e=Fr(t,"string");return ae(e)=="symbol"?e:String(e)}function Fr(t,e){if(ae(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ae(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Se=function(t){Br(e,t);function e(){return Rr(this,e),Ir(this,e,arguments)}return $r(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,c=i.cx,f=i.cy;return V(c,f,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,c=r.ticks,f=Sr(c,function(m){return m.coordinate||0}),u=Tr(c,function(m){return m.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,c=r.ticks,f=r.axisLine,u=ot(r,Dr),m=c.reduce(function(p,d){return[Math.min(p[0],d.coordinate),Math.max(p[1],d.coordinate)]},[1/0,-1/0]),v=V(a,i,m[0],o),y=V(a,i,m[1],o),g=Z(Z(Z({},S(u,!1)),{},{fill:"none"},S(f,!1)),{},{x1:v.x,y1:v.y,x2:y.x,y2:y.y});return h.createElement("line",ce({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,c=a.angle,f=a.tickFormatter,u=a.stroke,m=ot(a,Er),v=this.getTickTextAnchor(),y=S(m,!1),g=S(o,!1),p=i.map(function(d,x){var A=r.getTickValueCoord(d),j=Z(Z(Z(Z({textAnchor:v,transform:"rotate(".concat(90-c,", ").concat(A.x,", ").concat(A.y,")")},y),{},{stroke:"none",fill:u},g),{},{index:x},A),{},{payload:d});return h.createElement($,ce({className:M("recharts-polar-radius-axis-tick",gt(o)),key:"tick-".concat(d.coordinate)},ze(r.props,d,x)),e.renderTickItem(o,j,f?f(d.value,x):d.value))});return h.createElement($,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:h.createElement($,{className:M("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),bt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return h.isValidElement(r)?o=h.cloneElement(r,a):U(r)?o=r(a):o=h.createElement(We,ce({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}]),e}(H.PureComponent);Oe(Se,"displayName","PolarRadiusAxis");Oe(Se,"axisType","radiusAxis");Oe(Se,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ie(t){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(t)}function J(){return J=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J.apply(this,arguments)}function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lt(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,It(r.key),r)}}function Mr(t,e,n){return e&&ct(t.prototype,e),n&&ct(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vr(t,e,n){return e=je(e),Wr(t,$t()?Reflect.construct(e,n||[],je(t).constructor):e.apply(t,n))}function Wr(t,e){if(e&&(ie(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zr(t)}function zr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $t(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($t=function(){return!!t})()}function je(t){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},je(t)}function qr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}function Fe(t,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Fe(t,e)}function we(t,e,n){return e=It(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function It(t){var e=Ur(t,"string");return ie(e)=="symbol"?e:String(e)}function Ur(t,e){if(ie(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ie(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gr=Math.PI/180,ut=1e-5,_e=function(t){qr(e,t);function e(){return Kr(this,e),Vr(this,e,arguments)}return Mr(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,c=a.radius,f=a.orientation,u=a.tickSize,m=u||8,v=V(i,o,c,r.coordinate),y=V(i,o,c+(f==="inner"?-1:1)*m,r.coordinate);return{x1:v.x,y1:v.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*Gr),o;return i>ut?o=a==="outer"?"start":"end":i<-ut?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,c=r.axisLine,f=r.axisLineType,u=Y(Y({},S(this.props,!1)),{},{fill:"none"},S(c,!1));if(f==="circle")return h.createElement(xt,J({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var m=this.props.ticks,v=m.map(function(y){return V(a,i,o,y.coordinate)});return h.createElement(kr,J({className:"recharts-polar-angle-axis-line"},u,{points:v}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,c=a.tickLine,f=a.tickFormatter,u=a.stroke,m=S(this.props,!1),v=S(o,!1),y=Y(Y({},m),{},{fill:"none"},S(c,!1)),g=i.map(function(p,d){var x=r.getTickLineCoord(p),A=r.getTickTextAnchor(p),j=Y(Y(Y({textAnchor:A},m),{},{stroke:"none",fill:u},v),{},{index:d,payload:p,x:x.x2,y:x.y2});return h.createElement($,J({className:M("recharts-polar-angle-axis-tick",gt(o)),key:"tick-".concat(p.coordinate)},ze(r.props,p,d)),c&&h.createElement("line",J({className:"recharts-polar-angle-axis-tick-line"},y,x)),o&&e.renderTickItem(o,j,f?f(p.value,d):p.value))});return h.createElement($,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:h.createElement($,{className:M("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return h.isValidElement(r)?o=h.cloneElement(r,a):U(r)?o=r(a):o=h.createElement(We,J({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}]),e}(H.PureComponent);we(_e,"displayName","PolarAngleAxis");we(_e,"axisType","angleAxis");we(_e,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var he;function oe(t){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(t)}function ne(){return ne=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ne.apply(this,arguments)}function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ft(Object(n),!0).forEach(function(r){C(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ct(r.key),r)}}function Zr(t,e,n){return e&&dt(t.prototype,e),n&&dt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yr(t,e,n){return e=ke(e),Xr(t,Lt()?Reflect.construct(e,n||[],ke(t).constructor):e.apply(t,n))}function Xr(t,e){if(e&&(oe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ee(t)}function Lt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Lt=function(){return!!t})()}function ke(t){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ke(t)}function ee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ke(t,e)}function Ke(t,e){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ke(t,e)}function C(t,e,n){return e=Ct(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ct(t){var e=Qr(t,"string");return oe(e)=="symbol"?e:String(e)}function Qr(t,e){if(oe(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z=function(t){Jr(e,t);function e(n){var r;return Hr(this,e),r=Yr(this,e,[n]),C(ee(r),"pieRef",null),C(ee(r),"sectorRefs",[]),C(ee(r),"id",At("recharts-pie-")),C(ee(r),"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),U(a)&&a()}),C(ee(r),"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),U(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Zr(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,c=i.labelLine,f=i.dataKey,u=i.valueKey,m=S(this.props,!1),v=S(o,!1),y=S(c,!1),g=o&&o.offsetRadius||20,p=r.map(function(d,x){var A=(d.startAngle+d.endAngle)/2,j=V(d.cx,d.cy,d.outerRadius+g,A),w=O(O(O(O({},m),d),{},{stroke:"none"},v),{},{index:x,textAnchor:e.getTextAnchor(j.x,d.cx)},j),D=O(O(O(O({},m),d),{},{fill:"none",stroke:d.fill},y),{},{index:x,points:[V(d.cx,d.cy,d.outerRadius,A),j],key:"line"}),k=f;return W(f)&&W(u)?k="value":W(f)&&(k=u),h.createElement($,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(x)},c&&e.renderLabelLineItem(c,D),e.renderLabelItem(o,w,G(d,k)))});return h.createElement($,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,c=i.blendStroke,f=i.inactiveShape;return r.map(function(u,m){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var v=a.isActiveIndex(m),y=f&&a.hasActiveIndex()?f:null,g=v?o:y,p=O(O({},u),{},{stroke:c?u.fill:u.stroke,tabIndex:-1});return h.createElement($,ne({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},ze(a.props,u,m),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(m)}),h.createElement(or,ne({option:g,isActive:v,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,u=a.animationEasing,m=a.animationId,v=this.state,y=v.prevSectors,g=v.prevIsAnimationActive;return h.createElement(kt,{begin:c,duration:f,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var d=p.t,x=[],A=i&&i[0],j=A.startAngle;return i.forEach(function(w,D){var k=y&&y[D],R=D>0?sr(w,"paddingAngle",0):0;if(k){var N=X(k.endAngle-k.startAngle,w.endAngle-w.startAngle),_=O(O({},w),{},{startAngle:j+R,endAngle:j+N(d)+R});x.push(_),j=_.endAngle}else{var E=w.endAngle,T=w.startAngle,B=X(0,E-T),l=B(d),b=O(O({},w),{},{startAngle:j+R,endAngle:j+l+R});x.push(b),j=b.endAngle}}),h.createElement($,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Pt(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,c=a.className,f=a.label,u=a.cx,m=a.cy,v=a.innerRadius,y=a.outerRadius,g=a.isAnimationActive,p=this.state.isAnimationFinished;if(i||!o||!o.length||!te(u)||!te(m)||!te(v)||!te(y))return null;var d=M("recharts-pie",c);return h.createElement($,{tabIndex:this.props.rootTabIndex,className:d,ref:function(A){r.pieRef=A}},this.renderSectors(),f&&this.renderLabels(o),bt.renderCallByParent(this.props,null,!1),(!g||p)&&Ot.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a){if(h.isValidElement(r))return h.cloneElement(r,a);if(U(r))return r(a);var i=M("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return h.createElement(jt,ne({},a,{type:"linear",className:i}))}},{key:"renderLabelItem",value:function(r,a,i){if(h.isValidElement(r))return h.cloneElement(r,a);var o=i;if(U(r)&&(o=r(a),h.isValidElement(o)))return o;var c=M("recharts-pie-label-text",typeof r!="boolean"&&!U(r)?r.className:"");return h.createElement(We,ne({},a,{alignmentBaseline:"middle",className:c}),o)}}]),e}(H.PureComponent);he=z;C(z,"displayName","Pie");C(z,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!St.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});C(z,"parseDeltaAngle",function(t,e){var n=me(e-t),r=Math.min(Math.abs(e-t),360);return n*r});C(z,"getRealPieData",function(t){var e=t.props,n=e.data,r=e.children,a=S(t.props,!1),i=wt(r,_t);return n&&n.length?n.map(function(o,c){return O(O(O({payload:o},a),o),i&&i[c]&&i[c].props)}):i&&i.length?i.map(function(o){return O(O({},a),o.props)}):[]});C(z,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,i=e.height,o=lr(a,i),c=r+pe(t.props.cx,a,a/2),f=n+pe(t.props.cy,i,i/2),u=pe(t.props.innerRadius,o,0),m=pe(t.props.outerRadius,o,o*.8),v=t.props.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:c,cy:f,innerRadius:u,outerRadius:m,maxRadius:v}});C(z,"getComposedData",function(t){var e=t.item,n=t.offset,r=he.getRealPieData(e);if(!r||!r.length)return null;var a=e.props,i=a.cornerRadius,o=a.startAngle,c=a.endAngle,f=a.paddingAngle,u=a.dataKey,m=a.nameKey,v=a.valueKey,y=a.tooltipType,g=Math.abs(e.props.minAngle),p=he.parseCoordinateOfPie(e,n),d=he.parseDeltaAngle(o,c),x=Math.abs(d),A=u;W(u)&&W(v)?(Xe(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):W(u)&&(Xe(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=v);var j=r.filter(function(_){return G(_,A,0)!==0}).length,w=(x>=360?j:j-1)*f,D=x-j*g-w,k=r.reduce(function(_,E){var T=G(E,A,0);return _+(te(T)?T:0)},0),R;if(k>0){var N;R=r.map(function(_,E){var T=G(_,A,0),B=G(_,m,E),l=(te(T)?T:0)/k,b;E?b=N.endAngle+me(d)*f*(T!==0?1:0):b=o;var P=b+me(d)*((T!==0?g:0)+l*D),I=(b+P)/2,K=(p.innerRadius+p.outerRadius)/2,Te=[{name:B,value:T,payload:_,dataKey:A,type:y}],De=V(p.cx,p.cy,K,I);return N=O(O(O({percent:l,cornerRadius:i,name:B,tooltipPayload:Te,midAngle:I,middleRadius:K,tooltipPosition:De},_),p),{},{value:G(_,A),startAngle:b,endAngle:P,payload:_,paddingAngle:me(d)*f}),N})}return O(O({},p),{},{sectors:R,data:r})});var en=["type","layout","connectNulls","ref"];function se(t){"@babel/helpers - typeof";return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(t)}function tn(t,e){if(t==null)return{};var n=rn(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rn(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function ue(){return ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ue.apply(this,arguments)}function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pt(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q(t){return sn(t)||on(t)||an(t)||nn()}function nn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function an(t,e){if(t){if(typeof t=="string")return Me(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(t,e)}}function on(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sn(t){if(Array.isArray(t))return Me(t)}function Me(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ln(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ft(r.key),r)}}function cn(t,e,n){return e&&mt(t.prototype,e),n&&mt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function un(t,e,n){return e=Pe(e),fn(t,Bt()?Reflect.construct(e,n||[],Pe(t).constructor):e.apply(t,n))}function fn(t,e){if(e&&(se(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(t)}function Bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Bt=function(){return!!t})()}function Pe(t){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pe(t)}function q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ve(t,e)}function Ve(t,e){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ve(t,e)}function F(t,e,n){return e=Ft(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ft(t){var e=pn(t,"string");return se(e)=="symbol"?e:String(e)}function pn(t,e){if(se(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(se(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fe=function(t){dn(e,t);function e(){var n;ln(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=un(this,e,[].concat(a)),F(q(n),"state",{isAnimationFinished:!0,totalLength:0}),F(q(n),"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),F(q(n),"getStrokeDasharray",function(o,c,f){var u=f.reduce(function(A,j){return A+j});if(!u)return n.generateSimpleStrokeDasharray(c,o);for(var m=Math.floor(o/u),v=o%u,y=c-o,g=[],p=0,d=0;p<f.length;d+=f[p],++p)if(d+f[p]>v){g=[].concat(Q(f.slice(0,p)),[v-d]);break}var x=g.length%2===0?[0,y]:[y];return[].concat(Q(e.repeat(f,m)),Q(g),x).map(function(A){return"".concat(A,"px")}).join(", ")}),F(q(n),"id",At("recharts-line-")),F(q(n),"pathRef",function(o){n.mainCurve=o}),F(q(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),F(q(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return cn(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch(a){return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,c=i.xAxis,f=i.yAxis,u=i.layout,m=i.children,v=wt(m,cr);if(!v)return null;var y=function(d,x){return{x:d.x,y:d.y,value:d.value,errorVal:G(d.payload,x)}},g={clipPath:r?"url(#clipPath-".concat(a,")"):null};return h.createElement($,g,v.map(function(p){return h.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:c,yAxis:f,layout:u,dataPointFormatter:y})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,f=c.dot,u=c.points,m=c.dataKey,v=S(this.props,!1),y=S(f,!0),g=u.map(function(d,x){var A=L(L(L({key:"dot-".concat(x),r:3},v),y),{},{value:d.value,dataKey:m,cx:d.x,cy:d.y,index:x,payload:d.payload});return e.renderDotItem(f,A)}),p={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return h.createElement($,ue({className:"recharts-line-dots",key:"dots"},p),g)}},{key:"renderCurveStatically",value:function(r,a,i,o){var c=this.props,f=c.type,u=c.layout,m=c.connectNulls;c.ref;var v=tn(c,en),y=L(L(L({},S(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:f,layout:u,connectNulls:m});return h.createElement(jt,ue({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,c=o.points,f=o.strokeDasharray,u=o.isAnimationActive,m=o.animationBegin,v=o.animationDuration,y=o.animationEasing,g=o.animationId,p=o.animateNewValues,d=o.width,x=o.height,A=this.state,j=A.prevPoints,w=A.totalLength;return h.createElement(kt,{begin:m,duration:v,isActive:u,easing:y,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var k=D.t;if(j){var R=j.length/c.length,N=c.map(function(l,b){var P=Math.floor(b*R);if(j[P]){var I=j[P],K=X(I.x,l.x),Te=X(I.y,l.y);return L(L({},l),{},{x:K(k),y:Te(k)})}if(p){var De=X(d*2,l.x),Kt=X(x/2,l.y);return L(L({},l),{},{x:De(k),y:Kt(k)})}return L(L({},l),{},{x:l.x,y:l.y})});return i.renderCurveStatically(N,r,a)}var _=X(0,w),E=_(k),T;if(f){var B="".concat(f).split(/[,\s]+/gim).map(function(l){return parseFloat(l)});T=i.getStrokeDasharray(E,w,B)}else T=i.generateSimpleStrokeDasharray(w,E);return i.renderCurveStatically(c,r,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,c=i.isAnimationActive,f=this.state,u=f.prevPoints,m=f.totalLength;return c&&o&&o.length&&(!u&&m>0||!Pt(u,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,c=a.points,f=a.className,u=a.xAxis,m=a.yAxis,v=a.top,y=a.left,g=a.width,p=a.height,d=a.isAnimationActive,x=a.id;if(i||!c||!c.length)return null;var A=this.state.isAnimationFinished,j=c.length===1,w=M("recharts-line",f),D=u&&u.allowDataOverflow,k=m&&m.allowDataOverflow,R=D||k,N=W(x)?this.id:x,_=(r=S(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},E=_.r,T=E===void 0?3:E,B=_.strokeWidth,l=B===void 0?2:B,b=ur(o)?o:{},P=b.clipDot,I=P===void 0?!0:P,K=T*2+l;return h.createElement($,{className:w},D||k?h.createElement("defs",null,h.createElement("clipPath",{id:"clipPath-".concat(N)},h.createElement("rect",{x:D?y:y-g/2,y:k?v:v-p/2,width:D?g:g*2,height:k?p:p*2})),!I&&h.createElement("clipPath",{id:"clipPath-dots-".concat(N)},h.createElement("rect",{x:y-K/2,y:v-K/2,width:g+K,height:p+K}))):null,!j&&this.renderCurve(R,N),this.renderErrorBar(R,N),(j||o)&&this.renderDots(R,I,N),(!d||A)&&Ot.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(Q(r),[0]):r,o=[],c=0;c<a;++c)o=[].concat(Q(o),Q(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(h.isValidElement(r))i=h.cloneElement(r,a);else if(U(r))i=r(a);else{var o=M("recharts-line-dot",typeof r!="boolean"?r.className:"");i=h.createElement(xt,ue({},a,{className:o}))}return i}}]),e}(H.PureComponent);F(fe,"displayName","Line");F(fe,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!St.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});F(fe,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,c=t.bandSize,f=t.displayedData,u=t.offset,m=e.layout,v=f.map(function(y,g){var p=G(y,o);return m==="horizontal"?{x:Je({axis:n,ticks:a,bandSize:c,entry:y,index:g}),y:W(p)?null:r.scale(p),value:p,payload:y}:{x:W(p)?null:n.scale(p),y:Je({axis:r,ticks:i,bandSize:c,entry:y,index:g}),value:p,payload:y}});return L({points:v,layout:m},u)});var mn=Tt({chartName:"LineChart",GraphicalChild:fe,axisComponents:[{axisType:"xAxis",AxisComp:Dt},{axisType:"yAxis",AxisComp:Et}],formatAxisMap:fr}),hn=Tt({chartName:"PieChart",GraphicalChild:z,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_e},{axisType:"radiusAxis",AxisComp:Se}],formatAxisMap:dr,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Sn(){const t=Ut(),{orders:e,historyOrders:n}=Gt(),[r,a]=H.useState(""),[i,o]=H.useState(""),[c,f]=H.useState("monthly"),[u,m]=H.useState("all"),v=[...e,...n.map(l=>({id:l.id,customerName:l.customer_name,date:l.date,status:l.status,amount:l.amount,tons:l.tons,shift:l.shift,deliveryNumber:l.delivery_number,company:l.company,site:l.site,driverName:l.driver_name,phoneNumber:l.phone_number,deliveredAt:l.delivered_at,signedDeliveryNote:l.signed_delivery_note,orderType:l.order_type,breakdown:{"8mm":l.breakdown_8mm||0,"10mm":l.breakdown_10mm||0,"12mm":l.breakdown_12mm||0,"14mm":l.breakdown_14mm||0,"16mm":l.breakdown_16mm||0,"18mm":l.breakdown_18mm||0,"20mm":l.breakdown_20mm||0,"25mm":l.breakdown_25mm||0,"32mm":l.breakdown_32mm||0}}))],g=(()=>{const l=new Date;let b="",P=l.toISOString().split("T")[0];switch(c){case"daily":b=P;break;case"weekly":b=new Date(l.getTime()-7*24*60*60*1e3).toISOString().split("T")[0];break;case"monthly":b=new Date(l.getFullYear(),l.getMonth()-1,l.getDate()).toISOString().split("T")[0];break;case"custom":b=r,P=i;break}return{start:b,end:P}})(),p=v.filter(l=>{if(!(l.breakdown&&Object.values(l.breakdown).some(I=>I>0)))return!1;const P=l.date;return!(g.start&&P<g.start||g.end&&P>g.end||u==="straight-bar"&&l.orderType!=="straight-bar"||u==="cut-and-bend"&&l.orderType!=="cut-and-bend")}),d=p.reduce((l,b)=>{const P=b.date;return l[P]||(l[P]=0),l[P]+=b.tons||0,l},{}),x=Object.entries(d).map(([l,b])=>({date:new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric"}),tons:Math.round(b*100)/100,fullDate:l})).sort((l,b)=>new Date(l.fullDate).getTime()-new Date(b.fullDate).getTime()),A=p.filter(l=>l.breakdown).reduce((l,b)=>(b.breakdown&&Object.entries(b.breakdown).forEach(([P,I])=>{l[P]||(l[P]=0),l[P]+=I||0}),l),{}),j=Object.entries(A).map(([l,b])=>({name:l,value:Math.round(b*100)/100,tons:Math.round(b*100)/100})).filter(l=>l.value>0).sort((l,b)=>parseInt(l.name)-parseInt(b.name)),w=j.reduce((l,b)=>l+b.value,0),D=j.map(l=>He(Ge({},l),{percentage:w>0?Math.round(l.value/w*100):0})),k=["#8884d8","#82ca9d","#ffc658","#ff7300","#00ff00","#ff00ff","#00ffff","#ff0000","#0000ff"],N=Object.values(d).reduce((b,P)=>b+P,0),_=Object.values(d).reduce((l,b)=>l+b,0),E=Object.keys(d).length,T=E>0?_/E:0,B=()=>{a(""),o(""),f("monthly")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ze,{variant:"ghost",size:"sm",onClick:()=>t("/"),className:"text-foreground hover:bg-accent",children:[s.jsx(er,{size:16}),"Back to Dashboard"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-headline font-bold text-foreground",children:"Steel Analytics"}),s.jsx("p",{className:"text-muted-foreground",children:"Detailed breakdown and analysis of steel bar usage"})]})]}),s.jsxs(ve,{children:[s.jsxs(ye,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"h-5 w-5"}),"Time Range Configuration"]}),s.jsx(be,{children:"Configure the time period for steel analytics"})]}),s.jsxs(xe,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"time-range",children:"Time Range"}),s.jsxs(Ht,{value:c,onValueChange:l=>f(l),children:[s.jsx(Zt,{id:"time-range",className:"bg-background text-foreground border-border",children:s.jsx(Yt,{placeholder:"Select time range"})}),s.jsxs(Xt,{className:"bg-popover text-popover-foreground",children:[s.jsx(de,{value:"daily",children:"Today"}),s.jsx(de,{value:"weekly",children:"Last 7 Days"}),s.jsx(de,{value:"monthly",children:"Last 30 Days"}),s.jsx(de,{value:"custom",children:"Custom Range"})]})]})]}),c==="custom"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"start-date",children:"Start Date"}),s.jsx(Ye,{id:"start-date",type:"date",value:r,onChange:l=>a(l.target.value),className:"bg-background text-foreground border-border"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"end-date",children:"End Date"}),s.jsx(Ye,{id:"end-date",type:"date",value:i,onChange:l=>o(l.target.value),className:"bg-background text-foreground border-border"})]})]}),s.jsx(Ze,{onClick:B,variant:"outline",className:"h-9",children:"Reset"})]}),s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsxs("p",{className:"text-sm text-blue-800",children:["Analyzing: ",g.start||"All time"," to ",g.end||"Present","(",p.length," orders with steel breakdown data)"]}),s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Data from: ",e.length," active orders + ",n.length," delivered orders"]})]})]})]}),s.jsxs(ve,{children:[s.jsxs(ye,{children:[s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"h-5 w-5"}),"Monthly Average"]}),s.jsx(be,{children:"Total steel delivered in the selected period (up-to-date data only)"})]}),s.jsx(xe,{children:s.jsxs("div",{className:"text-center p-6",children:[s.jsx("div",{className:"p-4 bg-primary/10 rounded-full w-fit mx-auto mb-4",children:s.jsx(nr,{className:"h-12 w-12 text-primary"})}),s.jsx("p",{className:"text-4xl font-bold text-foreground mb-2",children:Math.round(N*100)/100}),s.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"tons total"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Daily Average"}),s.jsxs("p",{className:"font-semibold text-foreground",children:[Math.round(T*100)/100," tons"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Active Days"}),s.jsxs("p",{className:"font-semibold text-foreground",children:[E," days"]})]})]})]})})]}),s.jsxs(Jt,{value:u,onValueChange:l=>m(l),className:"w-full",children:[s.jsxs(Qt,{className:"grid w-full grid-cols-3",children:[s.jsx(Ne,{value:"all",children:"Total Cut-and-Bend and Straight Bar"}),s.jsx(Ne,{value:"straight-bar",children:"Straight Bar Only"}),s.jsx(Ne,{value:"cut-and-bend",children:"Cut-and-Bend Only"})]}),s.jsx(Re,{value:"all",className:"mt-6",children:s.jsx(Le,{lineChartData:x,pieChartDataWithPercentages:D,COLORS:k,tabTitle:"Total Steel Analytics",tabDescription:"Combined data for both Cut-and-Bend and Straight Bar orders"})}),s.jsx(Re,{value:"straight-bar",className:"mt-6",children:s.jsx(Le,{lineChartData:x,pieChartDataWithPercentages:D,COLORS:k,tabTitle:"Straight Bar Analytics",tabDescription:"Data for Straight Bar orders only"})}),s.jsx(Re,{value:"cut-and-bend",className:"mt-6",children:s.jsx(Le,{lineChartData:x,pieChartDataWithPercentages:D,COLORS:k,tabTitle:"Cut-and-Bend Analytics",tabDescription:"Data for Cut-and-Bend orders only"})})]})]})}function Le({lineChartData:t,pieChartDataWithPercentages:e,COLORS:n,tabTitle:r,tabDescription:a}){return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ve,{children:[s.jsxs(ye,{children:[s.jsxs(ge,{children:["Tons vs Time - ",r]}),s.jsxs(be,{children:[a," - Order date based trends"]})]}),s.jsx(xe,{children:s.jsx("div",{className:"h-80",children:s.jsx(Qe,{width:"100%",height:"100%",children:s.jsxs(mn,{data:t,children:[s.jsx(pr,{strokeDasharray:"3 3",stroke:"hsl(240, 4%, 80%)"}),s.jsx(Dt,{dataKey:"date",stroke:"hsl(240, 4%, 52%)",fontSize:12}),s.jsx(Et,{stroke:"hsl(240, 4%, 52%)",fontSize:12,label:{value:"Tons",angle:-90,position:"insideLeft"}}),s.jsx(et,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(240, 4%, 80%)",borderRadius:"8px",color:"hsl(0, 0%, 12%)"},formatter:i=>[`${i} tons`,"Total Delivered"]}),s.jsx(fe,{type:"monotone",dataKey:"tons",stroke:"hsl(340, 80%, 30%)",strokeWidth:3,dot:{fill:"hsl(340, 80%, 30%)",strokeWidth:2,r:4},activeDot:{r:6,fill:"hsl(340, 80%, 30%)"}})]})})})})]}),s.jsxs(ve,{children:[s.jsxs(ye,{children:[s.jsxs(ge,{children:["Steel Size Distribution - ",r]}),s.jsxs(be,{children:[a," - Breakdown by steel bar diameter"]})]}),s.jsxs(xe,{children:[s.jsx("div",{className:"h-80",children:s.jsx(Qe,{width:"100%",height:"100%",children:s.jsxs(hn,{children:[s.jsx(z,{data:e,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:2,dataKey:"value",children:e.map((i,o)=>s.jsx(_t,{fill:n[o%n.length]},`cell-${o}`))}),s.jsx(et,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(240, 4%, 80%)",borderRadius:"8px",color:"hsl(0, 0%, 12%)"},formatter:(i,o,c)=>[`${c.payload.name} ${c.payload.percentage}%`,""],labelFormatter:()=>""})]})})}),s.jsx("div",{className:"mt-4 grid grid-cols-3 gap-2",children:e.map((i,o)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n[o%n.length]}}),s.jsxs("span",{className:"text-foreground",children:[i.name,": ",i.tons,"t (",i.percentage,"%)"]})]},i.name))})]})]})]})})}export{Sn as SteelAnalytics};
